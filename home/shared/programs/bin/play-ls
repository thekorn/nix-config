#!/bin/bash

set -e

if [[ $# -eq 1 ]]; then
    path=$1
else
    path=.
fi

selected=$(exa -f $path | xargs file --mime-type| egrep 'image|video'| cut -f1 -d : |fzf)
if [[ -z $selected ]]; then
    echo "No file selected"
    exit 0
fi

mpv "$selected"
